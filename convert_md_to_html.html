<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Markdown to HTML Converter</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 0 5px;
        }
        button:hover {
            background: #0056b3;
        }
        h1 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #34495e; margin-top: 30px; }
        h3 { color: #7f8c8d; }
        code {
            background: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        pre {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            overflow-x: auto;
        }
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .mermaid {
            text-align: center;
            margin: 20px 0;
        }
        @media print {
            .controls { display: none; }
            body { margin: 0; padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="loadPaymentDoc()">ê²°ì œ ë¬¸ì„œ ë¡œë“œ</button>
        <button onclick="loadRefundDoc()">í™˜ë¶ˆ ë¬¸ì„œ ë¡œë“œ</button>
        <button onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„</button>
    </div>
    
    <div id="content">
        <h1>ë¬¸ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”</h1>
        <p>ìƒë‹¨ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë¬¸ì„œë¥¼ ë¡œë“œí•˜ì„¸ìš”.</p>
    </div>

    <script>
        // Mermaid ì´ˆê¸°í™”
        mermaid.initialize({ startOnLoad: true });

        // Marked ì„¤ì •
        marked.setOptions({
            breaks: true,
            gfm: true
        });

        // Mermaid ì½”ë“œ ë¸”ë¡ì„ ì²˜ë¦¬í•˜ëŠ” ë Œë”ëŸ¬
        const renderer = new marked.Renderer();
        const originalCodeRenderer = renderer.code;
        
        renderer.code = function(code, language) {
            if (language === 'mermaid') {
                return '<div class="mermaid">' + code + '</div>';
            }
            return originalCodeRenderer.call(this, code, language);
        };

        marked.use({ renderer });

        function renderMarkdown(markdown) {
            const html = marked.parse(markdown);
            document.getElementById('content').innerHTML = html;
            // Mermaid ë‹¤ì´ì–´ê·¸ë¨ ë Œë”ë§
            mermaid.init();
        }

        function loadPaymentDoc() {
            const paymentDoc = `# SpoqPlus ê²°ì œ ì‹œìŠ¤í…œ ìƒì„¸ ë¬¸ì„œ

## ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ê²°ì œ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸](#ê²°ì œ-í”„ë¡œì„¸ìŠ¤-í”Œë¡œìš°ì°¨íŠ¸)
3. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸](#ì£¼ìš”-ì»´í¬ë„ŒíŠ¸)

## ì‹œìŠ¤í…œ ê°œìš”

SpoqPlus ê²°ì œ ì‹œìŠ¤í…œì€ í”¼íŠ¸ë‹ˆìŠ¤/ìŠ¤í¬ì¸  ì„¼í„°ì— íŠ¹í™”ëœ ì¢…í•© ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ ë‹¤ì–‘í•œ ìƒí’ˆ ìœ í˜•ì„ ì§€ì›í•©ë‹ˆë‹¤.

## ê²°ì œ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸

\`\`\`mermaid
flowchart TD
    A[info_mem í˜ì´ì§€] --> B{êµ¬ë§¤í•˜ê¸° ë²„íŠ¼ í´ë¦­}
    B --> C[JavaScript: info_mem_buy_event]
    C --> D[Redirect: /teventmain/event_buy2/mem_sno]
    
    D --> E[event_buy2 Controller]
    E --> F[íšŒì› ì •ë³´ ì¡°íšŒ]
    E --> G[ì´ìš©ì¤‘ ìƒí’ˆ ì¡°íšŒ]
    E --> H[êµ¬ë§¤ ê°€ëŠ¥ ìƒí’ˆ í‘œì‹œ]
    
    H --> I{ìƒí’ˆ ì„ íƒ}
    I --> J[Redirect: /teventmain/event_buy_info]
    
    J --> K[event_buy_info Controller]
    K --> L[ê²°ì œ ì •ë³´ ì…ë ¥ í¼]
    L --> M[ê²°ì œ ë°©ë²• ì„ íƒ]
    L --> N[í¬ë§ ì‹œì‘ì¼ ì„ íƒ]
    L --> O[ë¼ì»¤ ì„ íƒ<ì„ íƒì‚¬í•­>]
    
    M --> P{ê²°ì œí•˜ê¸° ë²„íŠ¼}
    P --> Q[POST: /teventmain/event_buy_proc]
    
    Q --> R[event_buy_proc Controller]
    R --> S[Pay_lib ì´ˆê¸°í™”]
    S --> T[buy_run ì‹¤í–‰]
    
    T --> U[ì‚¬ì „ ê²€ì¦]
    U --> V{ìƒí’ˆ ìœ í˜• í™•ì¸}
    
    V -->|PT| W[func_pt_yes]
    V -->|ì´ìš©ê¶Œ| X[func_pt_no]
    V -->|ë¼ì»¤í¬í•¨| Y[func_pt_no_lockr]
    V -->|ë¼ì»¤ë¯¸ì •| Z[func_pt_no_lockr_empty]
    
    W --> AA[í›„ì† ì²˜ë¦¬]
    X --> AA
    Y --> AA
    Z --> AA
    
    AA --> AB[ê¸°ì¡´ ìƒí’ˆ ì¬ë°°ì—´]
    AB --> AC[ê³„ì¢Œì…ê¸ˆ ì²˜ë¦¬]
    AC --> AD[ë¯¸ìˆ˜ê¸ˆ ì²˜ë¦¬]
    AD --> AE[êµ¬ë§¤ë‚´ì—­ ì €ì¥]
    AE --> AF[ê²°ì œê´€ë¦¬ ì €ì¥]
    AF --> AG[ë§¤ì¶œê´€ë¦¬ ì €ì¥]
    
    AG --> AH[ì™„ë£Œ ë©”ì‹œì§€]
    AH --> AI[Redirect: info_mem í˜ì´ì§€]
\`\`\`

## ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### Controllers
- **Teventmain.php**: ê²°ì œ ì²˜ë¦¬ ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬
- **event_buy2()**: ìƒí’ˆ ì„ íƒ
- **event_buy_info()**: ê²°ì œ ì •ë³´ ì…ë ¥
- **event_buy_proc()**: ê²°ì œ ì²˜ë¦¬

### Libraries
- **Pay_lib.php**: ê²°ì œ ì²˜ë¦¬ í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

### Models
- **PayModel.php**: ê²°ì œ ë°ì´í„° ê´€ë¦¬
- **EventModel.php**: ìƒí’ˆ ë°ì´í„° ê´€ë¦¬
- **MemModel.php**: íšŒì› ë°ì´í„° ê´€ë¦¬`;

            renderMarkdown(paymentDoc);
        }

        function loadRefundDoc() {
            const refundDoc = `# SpoqPlus í™˜ë¶ˆ ì‹œìŠ¤í…œ ìƒì„¸ ë¬¸ì„œ

## ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [í™˜ë¶ˆ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸](#í™˜ë¶ˆ-í”„ë¡œì„¸ìŠ¤-í”Œë¡œìš°ì°¨íŠ¸)
3. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸](#ì£¼ìš”-ì»´í¬ë„ŒíŠ¸)

## ì‹œìŠ¤í…œ ê°œìš”

SpoqPlus í™˜ë¶ˆ ì‹œìŠ¤í…œì€ íšŒì›ì´ êµ¬ë§¤í•œ ìƒí’ˆì„ í™˜ë¶ˆ ì²˜ë¦¬í•˜ëŠ” ì¢…í•© ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## í™˜ë¶ˆ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸

\`\`\`mermaid
flowchart TD
    A[info_mem í˜ì´ì§€] --> B[íŒë§¤ ë¦¬ìŠ¤íŠ¸ì˜ ì„œë¸Œë©”ë‰´]
    B --> C{í™˜ë¶ˆí•˜ê¸° ë²„íŠ¼ í´ë¦­}
    C --> D[JavaScript: change_event_refund]
    D --> E[Redirect: /ttotalmain/refund_info/mem_sno/buy_sno]
    
    E --> F[refund_info Controller]
    F --> G[Refund_lib ì´ˆê¸°í™”]
    G --> H[refund_info ë©”ì†Œë“œ ì‹¤í–‰]
    H --> I[í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ ê³„ì‚°]
    
    I --> J[í™˜ë¶ˆ ì •ë³´ í˜ì´ì§€ í‘œì‹œ]
    J --> K[ê²°ì œ ë‚´ì—­ ëª©ë¡]
    J --> L[í™˜ë¶ˆ ê¸ˆì•¡ ì •ë³´]
    J --> M[ìœ„ì•½ê¸ˆ/ê¸°íƒ€ ë¹„ìš© ì…ë ¥]
    
    K --> N{ê°œë³„ í™˜ë¶ˆ ë²„íŠ¼ í´ë¦­}
    N --> O[JavaScript: refund_cancel]
    O --> P[AJAX: /teventmain/ajax_event_buy_van_direct_cancel_proc]
    
    P --> Q[VAN ì§ì ‘ ì·¨ì†Œ ì²˜ë¦¬]
    Q --> R[van_direct_hist í…Œì´ë¸” ê¸°ë¡]
    R --> S[í™˜ë¶ˆ ê¸ˆì•¡ ì—…ë°ì´íŠ¸]
    
    M --> T{í™˜ë¶ˆí•˜ê¸° ë²„íŠ¼ í´ë¦­}
    T --> U[POST: /teventmain/refund_proc]
    
    U --> V[refund_proc Controller]
    V --> W[Refund_lib ì´ˆê¸°í™”]
    W --> X[refund_run ì‹¤í–‰]
\`\`\`

## ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### Controllers
- **Ttotalmain.php**: í™˜ë¶ˆ ì •ë³´ í‘œì‹œ
- **Teventmain.php**: í™˜ë¶ˆ ì²˜ë¦¬ ì‹¤í–‰

### Libraries
- **Refund_lib.php**: í™˜ë¶ˆ ì²˜ë¦¬ í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

### Models
- **PayModel.php**: í™˜ë¶ˆ ë°ì´í„° ì €ì¥
- **EventModel.php**: ìƒí’ˆ ìƒíƒœ ì—…ë°ì´íŠ¸`;

            renderMarkdown(refundDoc);
        }
    </script>
</body>
</html>