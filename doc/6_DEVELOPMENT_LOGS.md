# 개발 로그 및 체크포인트

이 문서는 프로젝트의 개발 이력과 주요 체크포인트를 정리합니다.

## 📚 개발 로그

### 1. 체크포인트
- [체크포인트 로그](../CHECKPOINT_LOG.md)

### 2. 최근 수정사항
- [2025-01-10 카메라 문제 수정](../face_recognition/doc/FACE_RECOGNITION_FIXES_20250110.md)

## 📅 주요 개발 이력

### 2025년 1월
- **1월 10일**: 
  - 테스트 서버 카메라 인식 문제 해결
  - navigator.mediaDevices undefined 오류 수정
  - PHP 프록시 패턴 구현
  - 얼굴 인식 2회 시도 로직 추가

### 2025년 1월 9일
- 키오스크 API 브랜치 필터링 기능 추가
- API 문서 업데이트

### 2025년 1월 5일
- 얼굴 인식 정확도 개선
- 안경 검출 시스템 개선
- InsightFace 설치 가이드 작성

## 🔧 주요 기술적 해결사항

### HTTP/HTTPS 이슈
- **문제**: HTTP 환경에서 카메라 API 접근 불가
- **해결**: 
  1. DOCTYPE 선언 추가
  2. 브라우저 호환성 체크 코드 추가
  3. PHP 프록시 패턴 구현

### 얼굴 인식 성능
- **문제**: 첫 시도 실패율이 높음
- **해결**: 
  1. 2회 자동 재시도 로직 구현
  2. 첫 시도 시간을 0.5초로 단축
  3. 에러 메시지는 2차 실패 시에만 표시
  4. 최소 밝기 요구사항: 100 설정
  5. param1/param2 필터링 시스템 추가

### API 보안
- **문제**: 외부에서 localhost:5002 접근 불가
- **해결**: 
  1. PHP 서버를 통한 프록시 패턴 구현
  2. .env 파일로 포트 관리 (FACE_PORT=5002)
  3. 세션 키 변경 (comp_cd, bcoff_cd 사용)
  4. API 엔드포인트 통합 (/api/face/register)

## 🚀 향후 계획
1. WebSocket을 통한 실시간 체크인 알림
2. 다중 카메라 지원
3. 모바일 앱 연동
4. AI 기반 이상 행동 감지

## 📝 개발 가이드라인
- 모든 주요 변경사항은 체크포인트로 기록
- 버그 수정 시 원인과 해결 방법 문서화
- API 변경 시 문서 즉시 업데이트
- 테스트 코드 작성 필수