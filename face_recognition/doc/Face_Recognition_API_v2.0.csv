Face Recognition - API v2.0,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition Health Check,,,,,,,
설명,,InsightFace 서버 상태 확인,,,,,,,
Python API,,localhost:5002/api/face/health,,,,,,,
PHP Proxy,,/FaceTest/health,,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,상태,STRING,status,,●,ex) healthy,,,
2,서비스명,STRING,service,,●,ex) InsightFace Recognition Server,,,
3,버전,STRING,version,,●,ex) 2.0.0,,,
4,모델 로드 상태,BOOLEAN,model_loaded,,●,ex) true,,,
5,데이터베이스 연결,BOOLEAN,database_connected,,●,ex) true,,,
6,가동 시간,NUMBER,uptime_seconds,,●,ex) 3600,,,
,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition - Detect for Registration,,,,,,,
설명,,회원 등록용 얼굴 검출 (품질 검증),,,,,,,
Python API,,localhost:5002/api/face/detect_for_registration,,,,,,,
PHP Proxy,,/FaceTest/recognize_for_registration,,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,이미지,TEXT,image,●,,Base64 인코딩된 이미지,,,
2,회사코드,STRING(20),param1,○,,회사 코드 (필터링용),,,
3,지점코드,STRING(20),param2,○,,지점 코드 (필터링용),,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,얼굴 검출 여부,BOOLEAN,face_detected,,●,얼굴 검출 성공 여부,,,
2,얼굴 임베딩,ARRAY,face_encoding,,●,512차원 벡터,,,
3,안경 착용,BOOLEAN,glasses_detected,,●,안경 착용 여부,,,
4,안경 신뢰도,FLOAT,glasses_confidence,,●,0.0~1.0,,,
5,품질 점수,FLOAT,quality_score,,●,0.0~1.0,,,
6,등록 적합성,BOOLEAN,suitable_for_registration,,●,등록 가능 여부,,,
7,Liveness 검사,OBJECT,liveness_check,,●,실제 얼굴 여부,,,
8,보안 검사,OBJECT,security_check,,●,화면 감지 여부,,,
9,권장사항,ARRAY,recommendations,,●,개선 권장사항,,,
10,처리 시간,NUMBER,processing_time_ms,,●,밀리초 단위,,,
,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition - Register,,,,,,,
설명,,얼굴 데이터 등록,,,,,,,
Python API,,localhost:5002/api/face/register,,,,,,,
PHP Proxy,,/Ttotalmain/ajax_mgr_modify_proc (회원정보 수정 시),,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,이미지,TEXT,image,●,,Base64 인코딩된 이미지,,,
2,회원번호,STRING(50),member_id,●,,회원 고유번호,,,
3,회사코드,STRING(20),param1,○,,회사 코드,,,
4,지점코드,STRING(20),param2,○,,지점 코드,,,
5,회원이름,STRING(100),name,○,,회원 이름,,,
6,업데이트 여부,BOOLEAN,update_if_exists,○,,기존 데이터 업데이트 (기본: true),,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,성공 여부,BOOLEAN,success,,●,처리 성공 여부,,,
2,메시지,STRING,message,,●,처리 결과 메시지,,,
3,회원번호,STRING,member_id,,●,등록된 회원번호,,,
4,얼굴 ID,NUMBER,face_id,,●,데이터베이스 ID,,,
5,품질 점수,FLOAT,quality_score,,●,0~100,,,
6,Liveness 점수,FLOAT,liveness_score,,●,0.0~1.0,,,
7,임베딩 크기,NUMBER,encoding_size,,●,벡터 차원 (512),,,
8,업데이트 여부,BOOLEAN,updated,,●,기존 데이터 업데이트 여부,,,
,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition - Recognize,,,,,,,
설명,,얼굴 인식 (일반),,,,,,,
Python API,,localhost:5002/api/face/recognize,,,,,,,
PHP Proxy,,/FaceTest/recognize (사용하지 않음),,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,이미지,TEXT,image,●,,Base64 인코딩된 이미지,,,
2,회사코드,STRING(20),param1,○,,회사 코드 (필터링용),,,
3,지점코드,STRING(20),param2,○,,지점 코드 (필터링용),,,
4,임계값,FLOAT,threshold,○,,인식 임계값 (기본: 0.7),,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,성공 여부,BOOLEAN,success,,●,인식 성공 여부,,,
2,메시지,STRING,message,,●,처리 결과 메시지,,,
3,회원번호,STRING,member_number,,●,인식된 회원번호,,,
4,회원이름,STRING,name,,●,회원 이름,,,
5,신뢰도,FLOAT,confidence,,●,0.0~1.0,,,
6,품질 점수,FLOAT,quality_score,,●,0~100,,,
7,Liveness 점수,FLOAT,liveness_score,,●,0.0~1.0,,,
8,마지막 인식 시간,STRING,last_seen,,●,ISO 8601 형식,,,
,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition - Recognize for Checkin,,,,,,,
설명,,체크인용 얼굴 인식 (엄격한 보안),,,,,,,
Python API,,localhost:5002/api/face/recognize_for_checkin,,,,,,,
PHP Proxy,,/FaceTest/recognize_for_checkin,,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,이미지,TEXT,image,●,,Base64 인코딩된 이미지,,,
2,회사코드,STRING(20),comp_cd,○,,회사 코드 (Python에서 param1로 변환),,,
3,지점코드,STRING(20),bcoff_cd,○,,지점 코드 (Python에서 param2로 변환),,,
4,Liveness 검사,BOOLEAN,check_liveness,○,,Liveness 필수 (기본: true),,,
5,눈 깜빡임 검사,BOOLEAN,check_blink,○,,눈 깜빡임 검사 (기본: false),,,
6,보안 레벨,INTEGER,security_level,○,,보안 레벨 1-5 (기본: 3),,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,성공 여부,BOOLEAN,success,,●,체크인 가능 여부,,,
2,메시지,STRING,message,,●,처리 결과 메시지,,,
3,회원번호,STRING,member_number,,●,인식된 회원번호,,,
4,회원이름,STRING,name,,●,회원 이름,,,
5,신뢰도,FLOAT,confidence,,●,0.0~1.0,,,
6,보안 검사,OBJECT,security_checks,,●,각종 보안 검사 결과,,,
7,Liveness 통과,BOOLEAN,liveness_passed,,●,실제 얼굴 여부,,,
8,중복 체크인,BOOLEAN,duplicate_checkin,,●,중복 체크인 여부,,,
9,마지막 체크인,STRING,last_checkin_time,,●,ISO 8601 형식,,,
10,처리 시간,NUMBER,processing_time_ms,,●,밀리초 단위,,,
,,,,,,,,,
,,,,,,,,,
API 호출 경로 매트릭스,,,,,,,,,
기능,Frontend 파일,PHP Controller,Python API,,,,,,
헬스체크,-,/FaceTest/health,/api/face/health,,,,,,
회원 얼굴 검출,jsinc.php,/FaceTest/recognize_for_registration,/api/face/detect_for_registration,,,,,,
회원 얼굴 등록,info_mem.php,/Ttotalmain/ajax_mgr_modify_proc,/api/face/register,,,,,,
체크인 인식,checkin.php,/FaceTest/recognize_for_checkin,/api/face/recognize_for_checkin,,,,,,
,,,,,,,,,
파라미터 매핑 테이블,,,,,,,,,
Frontend,PHP Controller,Python API,설명,,,,,,
comp_cd,comp_cd,param1,회사 코드,,,,,,
bcoff_cd,bcoff_cd,param2,지점 코드,,,,,,
image_base64,image,image,이미지 데이터,,,,,,
mem_sno,mem_sno,member_id,회원 번호,,,,,,
,,,,,,,,,
변경 이력,,,,,,,,,
버전,날짜,변경 내용,작성자,,,,,,
v1.0,2025-01-17,초기 작성,시스템,,,,,,
v2.0,2025-01-21,실제 구현 반영 (포트/파라미터/경로 수정),분석 시스템,,,,,,