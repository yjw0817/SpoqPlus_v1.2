Face Recognition - API,,,,,,,,,
,,,,,,,,,
서비스명,,Face Recognition Register,,,,,,,
설명,,얼굴 데이터 검증 및 DB 저장,,,,,,,
Python API,,localhost:5002/api/face/register,,,,,,,
PHP Proxy,,/Ttotalmain/ajax_mgr_modify_proc (회원정보 수정 시),,,,,,,
메소드,,POST,,,,,,,
용도,,회원 얼굴 데이터를 데이터베이스에 저장,,,,,,,
REQUEST PARAMETER,,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,회원번호,STRING(50),member_id,●,,회원 일련번호 (mem_sno),,,
2,이미지,TEXT,image,●,,Base64 인코딩된 이미지,,,
3,회사코드,STRING(20),param1,○,,회사 코드,,,
4,지점코드,STRING(20),param2,○,,지점 코드,,,
5,회원이름,STRING(100),name,○,,회원 이름,,,
6,업데이트여부,BOOLEAN,update_if_exists,○,,기존 데이터 업데이트 (기본: true),,,
,,,,,,,,,
RESPONSE DATA(JSON),,,,,,,,,
NO,항목명,크기,영문명,입력,출력,설명,,,
1,성공여부,BOOLEAN,success,,●,처리 성공 여부,,,
2,메시지,STRING,message,,●,처리 결과 메시지,,,
3,회원번호,STRING,member_id,,●,등록된 회원번호,,,
4,얼굴ID,NUMBER,face_id,,●,데이터베이스 얼굴 ID,,,
5,얼굴인코딩,ARRAY,face_encoding,,●,512차원 얼굴 벡터 (InsightFace),,,
6,품질점수,FLOAT,quality_score,,●,얼굴 품질 점수 (0.0-1.0),,,
7,Liveness점수,FLOAT,liveness_score,,●,생체 감지 점수 (0.0-1.0),,,
8,안경착용,BOOLEAN,glasses_detected,,●,안경 착용 여부,,,
9,안경신뢰도,FLOAT,glasses_confidence,,●,안경 감지 신뢰도,,,
10,보안레벨,INTEGER,security_level,,●,보안 레벨 (1-5),,,
11,임베딩크기,NUMBER,encoding_size,,●,벡터 차원수 (512),,,
12,업데이트여부,BOOLEAN,updated,,●,기존 데이터 업데이트 여부,,,
13,처리시간,NUMBER,processing_time_ms,,●,처리 시간 (밀리초),,,
14,DB메시지,STRING,db_message,,●,데이터베이스 저장 메시지,,,
,,,,,,,,,
응답 예시,,,,,,,,,
{,,,,,,,,,
  "success": true,,,,,,,,,
  "message": "얼굴이 성공적으로 등록되었습니다",,,,,,,,,
  "data": {,,,,,,,,,
    "member_id": "M2024001",,,,,,,,,
    "face_id": 123,,,,,,,,,
    "face_encoding": [0.123 ... 512개 숫자],,,,,,,,,
    "quality_score": 0.855,,,,,,,,,
    "liveness_score": 0.92,,,,,,,,,
    "glasses_detected": false,,,,,,,,,
    "glasses_confidence": 0.15,,,,,,,,,
    "security_level": 3,,,,,,,,,
    "encoding_size": 512,,,,,,,,,
    "updated": false,,,,,,,,,
    "processing_time_ms": 245,,,,,,,,,
    "db_message": "Face data saved successfully",,,,,,,,,
  },,,,,,,,,
},,,,,,,,,